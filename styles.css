
.panda-bridge-spinner-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(24, 24, 24, 0.7);
  z-index: 1000;
}
.panda-bridge-spinner {
  width: 48px;
  height: 48px;
  border: 6px solid #3b82f6;
  border-top: 6px solid transparent;
  border-radius: 50%;
  animation: panda-bridge-spin 1s linear infinite;
}
@keyframes panda-bridge-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}



.panda-bridge-ribbon {
  font-size: 1.5em;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  cursor: pointer;
  border-radius: 4px;
}
.panda-bridge-ribbon:hover {
  background-color: var(--background-modifier-hover);
}


.panda-bridge-qa {
  display: block;
  padding: 12px 16px;
  margin: 8px 0;
  background: rgba(255, 193, 7, 0.08);
  border-left: 3px solid #ffc107;
  border-radius: 4px;
  line-height: 1.5;
}
.panda-bridge-qa-question { margin-bottom: 8px; }
.panda-bridge-qa-answer { color: var(--text-muted); }


.panda-bridge-sync-modal { min-width: 520px; max-width: 760px; }
.panda-bridge-header { position: relative; text-align: center; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--background-modifier-border); }
.panda-bridge-header h2 { margin: 0; color: var(--text-normal); font-size: 1.5em; }


.panda-bridge-settings-gear {
  position: absolute;
  left: 12px;
  top: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  border-radius: 6px;
  border: 1px solid transparent;
  background: transparent;
  cursor: pointer;
  font-size: 16px;
}
.panda-bridge-settings-gear:hover { background: var(--background-modifier-hover); border-color: var(--background-modifier-border); }
.panda-bridge-settings-gear:focus { outline: 2px solid var(--interactive-accent); outline-offset: 2px; }


.modal-content .panda-bridge-settings-gear,
.modal .panda-bridge-settings-gear,
.mod-root .panda-bridge-settings-gear {
  z-index: 1050; 
}


.panda-bridge-status-container { margin-bottom: 16px; display: flex; justify-content: center; }
.panda-bridge-status-minimal, .panda-bridge-loading-minimal {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--background-secondary);
  border: 1px solid var(--background-modifier-border);
}
.panda-bridge-status-dot {
  width: 10px; height: 10px; border-radius: 50%; flex: 0 0 10px; display: inline-block;
  background: var(--text-muted);
}
.panda-bridge-status-dot.success { background: #22c55e; }
.panda-bridge-status-dot.error   { background: #ef4444; }
.panda-bridge-status-dot.loading { background: #3b82f6; animation: panda-bridge-pulse 1.2s ease-in-out infinite alternate; }
@keyframes panda-bridge-pulse { from { opacity: .5; } to { opacity: 1; } }
.panda-bridge-status-text { color: var(--text-muted); font-size: 0.85em; }


.panda-bridge-sync-summary { margin-bottom: 24px; }
.panda-bridge-sync-summary h3 { margin: 0 0 10px; color: var(--text-normal); font-size: 1.1em; text-align: center; }
.panda-bridge-pills-container { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
.panda-bridge-pill {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 14px; border-radius: 999px; border: 1px solid transparent;
  background: var(--background-secondary);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.panda-bridge-pill:hover { transform: translateY(-1px); box-shadow: 0 2px 10px rgba(0,0,0,.08); }
.panda-bridge-pill.add    { border-color: rgba(34,197,94,.35);  background: rgba(34,197,94,.08); }
.panda-bridge-pill.update { border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.08); }
.panda-bridge-pill.delete { border-color: rgba(239,68,68,.35);  background: rgba(239,68,68,.08); }
.panda-bridge-pill-number { font-weight: 700; font-size: 1.05em; color: var(--text-normal); }
.panda-bridge-pill-label  { color: var(--text-muted); font-weight: 500; }


.panda-bridge-button-container { margin-bottom: 16px; }
.panda-bridge-button-group { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
.panda-bridge-btn { padding: 10px 18px; border: 1px solid transparent; border-radius: 8px; font-weight: 600; font-size: 14px; cursor: pointer; transition: all .15s ease; min-width: 132px; }
.panda-bridge-btn-primary { background: var(--interactive-accent); color: var(--text-on-accent); }
.panda-bridge-btn-primary:hover:not(.disabled) { background: var(--interactive-accent-hover); transform: translateY(-1px); }
.panda-bridge-btn-secondary { background: var(--background-secondary); color: var(--text-normal); border-color: var(--background-modifier-border); }
.panda-bridge-btn-secondary:hover { background: var(--background-modifier-hover); transform: translateY(-1px); }
.panda-bridge-btn-tertiary { background: transparent; color: var(--text-muted); border-color: var(--background-modifier-border); }
.panda-bridge-btn-tertiary:hover { background: var(--background-modifier-hover); color: var(--text-normal); }
.panda-bridge-btn.disabled { opacity: .55; cursor: not-allowed; transform: none !important; }


.panda-bridge-results { margin-top: 16px; }
.panda-bridge-results h3 { margin: 0 0 10px; color: var(--text-normal); }
.panda-bridge-results-list { max-height: 300px; overflow-y: auto; border: 1px solid var(--background-modifier-border); border-radius: 8px; background: var(--background-secondary); }
.panda-bridge-result-item { padding: 10px 16px; border-bottom: 1px solid var(--background-modifier-border); font-family: var(--font-monospace); font-size: .9em; }
.panda-bridge-result-item:last-child { border-bottom: none; }


.panda-bridge-preview-modal { min-width: 600px; max-width: 820px; }
.panda-bridge-preview-header { text-align: center; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--background-modifier-border); }
.panda-bridge-preview-header h2 { margin: 0; color: var(--text-normal); font-size: 1.5em; }
.panda-bridge-preview-content { max-height: 70vh; overflow-y: auto; }

.panda-bridge-section-header { display: flex; align-items: center; gap: 10px; padding: 12px 16px; background: var(--background-secondary); border: 1px solid var(--background-modifier-border); border-radius: 8px 8px 0 0; cursor: pointer; transition: background .15s ease; }
.panda-bridge-section-header:hover { background: var(--background-modifier-hover); }
.panda-bridge-toggle-icon { font-size: .85em; color: var(--text-muted); transition: transform .15s ease; }
.panda-bridge-section-title { font-weight: 600; color: var(--text-normal); font-size: 1.05em; }
.panda-bridge-cards-container { border: 1px solid var(--background-modifier-border); border-top: none; border-radius: 0 0 8px 8px; background: var(--background-primary); }
.panda-bridge-card { border-bottom: 1px solid var(--background-modifier-border); background: var(--background-primary); }
.panda-bridge-card:last-child { border-bottom: none; }
.panda-bridge-card.add { border-left: 4px solid #22c55e; }
.panda-bridge-card.update { border-left: 4px solid #f59e0b; }
.panda-bridge-card.delete { border-left: 4px solid #ef4444; }
.panda-bridge-card-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px 8px; border-bottom: 1px solid var(--background-modifier-border-hover); }
.panda-bridge-card-number { font-weight: 600; color: var(--text-normal); font-size: .9em; }
.panda-bridge-card-deck { font-size: .8em; color: var(--text-muted); font-family: var(--font-monospace); }
.panda-bridge-card-content { padding: 8px 16px; }
.panda-bridge-card-question, .panda-bridge-card-answer { margin-bottom: 8px; display: flex; align-items: flex-start; gap: 8px; }
.panda-bridge-card-question:last-child, .panda-bridge-card-answer:last-child { margin-bottom: 0; }
.panda-bridge-card-label { font-weight: 600; color: var(--text-accent); min-width: 20px; font-size: .9em; }
.panda-bridge-card-text { color: var(--text-normal); line-height: 1.4; }
.panda-bridge-card-meta { padding: 8px 16px; background: var(--background-secondary-alt); border-top: 1px solid var(--background-modifier-border-hover); }
.panda-bridge-card-line { font-size: .75em; color: var(--text-muted); font-family: var(--font-monospace); }


.panda-bridge-connection-result { margin: 10px 0 20px; padding: 12px; border-radius: 6px; border: 1px solid; display: none; }
.panda-bridge-connection-result:not(:empty) { display: block; }
.panda-bridge-connection-result.loading { background: var(--background-secondary); border-color: var(--text-muted); animation: panda-bridge-pulse 1.2s ease-in-out infinite alternate; }
.panda-bridge-connection-result.connected { background: rgba(34,197,94,.12); border-color: #22c55e; }
.panda-bridge-connection-result.disconnected { background: rgba(239,68,68,.12); border-color: #ef4444; }
.panda-bridge-connection-result.error { background: rgba(245,158,11,.12); border-color: #f59e0b; }
.connection-content { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
.connection-icon { font-size: 1.1em; }
.connection-text { font-weight: 600; color: var(--text-normal); }
.connection-details { font-size: .9em; color: var(--text-muted); margin-left: auto; }


.mod-settings .panda-bridge-settings { padding: 1em; background: var(--background-secondary); border-radius: 8px; }
